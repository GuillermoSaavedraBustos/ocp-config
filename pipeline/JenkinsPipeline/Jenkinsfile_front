node('nodejs') {
  stage('Checkout Source') {
    echo "Checkout Source"
    dir('ose-wallapp-ui') {
      git 'https://github.com/hsavolai/ose-wallapp-ui.git'
    }
    dir('ose-wallapp-router') {
      git 'https://github.com/hsavolai/ose-router-ui.git'
    }
    sh "npm config set registry http://nexus3:8081/repository/npm-all/"
    
  }
  
  stage('Resolve deps') {
    sh "npm install --prefix ./ose-wallapp-ui"
    sh "npm install --prefix ./ose-wallapp-router"
  }

  stage('Test & Analysis') {
    echo "Here should be ose-wallapp-ui Angular2 tests either with headless chrome or phantomjs for the UI/Karma"
    sh "npm test --prefix ./ose-wallapp-router"
  }
  
  


}
